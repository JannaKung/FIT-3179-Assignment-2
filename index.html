<!DOCTYPE html>
<html lang="en">

<head>
  <title>Australia's Energy Growth</title>
  <!-- Import Vega & Vega-Lite-->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>

  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
    integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Google font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,600;1,600&display=swap" rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;1,600&display=swap" rel="stylesheet">

  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="css/style.css" media="all">
</head>

<body>
  <div class="page">

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h1>Australia's Energy Journey: Balancing Non-Renewable and Renewable Sources</h1>
        <div class="container">
          <img src="image/nature.jpg">
          <div class="intro-box">
           <p>Explore Australia's journey toward transitioning to a <b>sustainable future.</b>
             This page will cover energy per capita, energy consumption across sectors and the role of renewable and non-renewable sources.
             Dive deeper into state consumptions and see how different regions embrace <b>sustainable practices</b>!  </p>
          </div>
          <img src="image/wind.jpg">
          </div>
      </div>
    </div>
    <!-- end pure grid group -->

    <!-- map container -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <div class="map-container">
          <div id="map"></div>
          <div class="container">
            <div class="text-box">
              <p>This map visualizes Australia's per capita energy generation compared to other countries globally from <b>2011 to 2022.</b> It
                 allows us to see how factors like land size can affect electricity generated. The color gradient reflects the amount of electricity
                 generated per person annually, measured in <b>kilowatt-hours (kWh)</b>. <b>Darker red </b> indicates higher per capita generation,
                 while <b>blue</b> indicates lower values.</p>
            </div>

            <div class="text-box">
              <p>We can see that energy generation per capita is always changing however, from 2011 to 2012 <b>Australia</b> has always been among the <b>highest</b>.
                This is because Australia has an abundant of natural resources, energy exports and large industrial demand. For example compared to <b>China,</b>
                Australia has a smaller population which means individuals have more access to electricity, resulting in higher per capita.
              </p>
            </div>
          </div>
      </div>
    </div>

    <!-- industry container -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <div class="vis-container">
          <div id="industry_chart"></div>
          <!-- Dropdown for selecting year -->
          <div id="dropdown">
            <label for="Year_Selection">Year: </label>
            <select id="Year_Selection">
                <option value="2011">2011</option>
                <option value="2012">2012</option>
                <option value="2013">2013</option>
                <option value="2014">2014</option>
                <option value="2015">2015</option>
                <option value="2016">2016</option>
                <option value="2017">2017</option>
                <option value="2018">2018</option>
                <option value="2019">2019</option>
                <option value="2020">2020</option>
                <option value="2021">2021</option>
                <option value="2022" selected>2022</option>
            </select>
          </div>
          <div class="container">
            <div class="text-box">
              <p>The line graph tracks <b>Australia's energy consumption</b> trend from 2011 to 2022, seperated into total
                 energy use, exports, industry and household consumption. It highlights changes over time, showing <b>fluctuations</b> in overall usage and energy exports.
                 Still, industry and household use remains <b>stable</b> throughout, indicating consistent domestic energy needs despite external changes.
              </p>
            </div>

            <div class="text-box">
              <p><p>The sector insight chart offers a <b>detailed breakdown</b> of energy consumption across individual sectors for the selected year.
                <b>Household energy</b> consumption ranks closely behind manufacturing, reflecting Australia's high living standards and residential energy demands.
                <b>Manufacturing's</b> energy usage is primarily driven by activities such as resource extraction and industrial processing.
              </p>
            </div>
        </div>
      </div>
    </div>
    <!-- end pure grid group -->

        <!-- supply container -->
        <div class="pure-g">
          <div class="pure-u-1-1">
            <div class="vis-container">
              <div id="supply_graph"></div>
            <div class="container">
              <div class="text-box">
                <p>The bar chart shows <b>mixed trends</b> in non-renewable energy production. <b>Black coal</b> usage increased in 2022 compared to 2011,indicating its ongoing role in energy production.
                  However, <b>brown coal</b> has declined, reflecting efforts to reduce reliance on less efficient fuels.While <b>crude oil</b> production
                  remains minimal, <b>natural gas</b> continues to be a key contributor to Australia's energy mix.</p>
              </div>

              <div class="text-box">
                <p>The area chart highlights <b>significant growth</b> in renewable energy, with <b>solar</b> and <b>wind</b> having the biggest increase over time whilst <b>hydro</b> energy
                  remains stable. By 2022, renewable energy production surpasses the <b>household electricity demand</b>, marked by the<b> "Demand Met"</b> line back in 2020.
                  This showcases the shift towards sustainable energy sources to meet residential needs.
                </p>
              </div>
          </div>
        </div>

       <!-- Donut Charts Section -->
       <div class="pure-g">
        <div class="pure-u-1-1">
          <div class="vis-container">
            <h2>Exploring Non-Renewable vs. Renewable Energy in the 5 Largest States(2022)</h2>
            <p class = "note">Note: Use the dropdown to toggle between states </p>
            <div id="donut_graph_nr"></div>
            <div id="donut_graph_r"></div>
            <div id="dropdown">
              <label for="state_selection">State: </label>
              <select id="state_selection">
                  <option value="NSW">NSW</option>
                  <option value="QLD">QLD</option>
                  <option value="SA">SA</option>
                  <option value="VIC">VIC</option>
                  <option value="WA">WA</option>
                  <option value="All" selected>All</option>
              </select>
              </div>
              <div class="container">
                <div class="text-box">
                  <p>On the left,the chart shows the distribution of <b>non-renewable energy production</b> by state.
                    Queensland <b>(QLD)</b> and New South Wales <b>(NSW)</b> lead with the highest non-renewable energy output while
                    South Australia <b>(SA)</b> has the <b>lowest</b> non-renwable generation with <b>4,337.4 (GWh).</b> These figures allows us
                    to see each states reliance on fossil fuels and help to identify where efforts need to be stronger.

                  </p>
                </div>

                <div class="text-box">
                  <p>
                    On the right, the chart shows the distribution of <b>renewable energy production</b> by state. New South Wales <b>(NSW)</b> and Victoria
                    <b>(VIC)</b> have notable renewable output but still rely heavily on non-renewables. In contrast, South Australia <b>(SA)</b>,
                    with minimal non-renewable production, primarily relies on renewables. These insights highlight how each state progresses differently toward sustainability.
                    </p>
                </div>
          </div>
          </div>
        </div>
      </div>

      <div class="source-container">
        <div id="source-text">
          <p><b>Created by:</b> Janna Kung</p>
          <p><b>Data sources used:</b>
              <a href="https://www.abs.gov.au/statistics/industry/energy/energy-account-australia/2021-22" target="_blank">
                  ABS Energy Account Australia (2021-22)
              </a> <p></p>& <a href="https://www.energy.gov.au/publications/australian-energy-update-2023" target="_blank">
                Department of Climate Change, Energy, the Environment and Water
           </a>
              <p>&<a href="https://ourworldindata.org/energy/country/australia" target="_blank"> Our World In Data (Australia Energy Profile)</a>
          <p><b>Images:</b>
              <a href="https://icons8.com/" target="_blank">icons8</a>
          </p>
      </div>
      </div>


    <script type="text/javascript">
      var choropleth_map = "js/choropleth_map.vg.json";
      var concat_graph = "js/concat_industries_final.vg.json";
      var supply_graph = "js/sources_combined.vg.json";
      var donut_graph_nr = "js/donut_non_renewable.vg.json";
      var donut_graph_r = "js/donut_renewable.vg.json";

      // Embed the choropleth map
      vegaEmbed('#map', choropleth_map, { "actions": false }).then(function (result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
      }).catch(console.error);

      // Embed the industry graph in the correct container
      vegaEmbed('#industry_chart', concat_graph, { "actions": false }).then(({ view }) => {
        const selectYear = document.getElementById('Year_Selection');

        // Update the view when the dropdown value changes
        selectYear.addEventListener('change', function () {
          view.signal('Year_selection', parseInt(this.value)).run();
        });
      }).catch(console.error);

         // Embed the supply
      vegaEmbed('#supply_graph', supply_graph, { "actions": false }).then(function (result) {
        // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
      }).catch(console.error);

      var donutViewNR, donutViewR; // Variables to store the chart views

      // Function to update both charts with the selected state
      function updateDonutCharts(selectedState) {
        donutViewNR.signal('state_selection', selectedState).run(); // Non-Renewable chart
        donutViewR.signal('state_selection', selectedState).run();  // Renewable chart
      }

      // Embed Non-Renewable Donut Chart
      vegaEmbed('#donut_graph_nr', donut_graph_nr, { actions: false })
        .then(({ view }) => {
          donutViewNR = view; // Store the non-renewable chart view

          // Set initial state selection
          const stateDropdown = document.getElementById('state_selection');
          stateDropdown.addEventListener('change', (event) => {
            const selectedState = event.target.value;
            updateDonutCharts(selectedState); // Update both charts when state changes
          });
        })
        .catch(console.error);

      // Embed Renewable Donut Chart
      vegaEmbed('#donut_graph_r', donut_graph_r, { actions: false })
        .then(({ view }) => {
          donutViewR = view; // Store the renewable chart view

          // Ensure dropdown interaction also affects this chart
          const stateDropdown = document.getElementById('state_selection');
          stateDropdown.addEventListener('change', (event) => {
            const selectedState = event.target.value;
            updateDonutCharts(selectedState); // Update both charts when state changes
          });
        })
        .catch(console.error);

    </script>

  </div>
</body>

</html>
